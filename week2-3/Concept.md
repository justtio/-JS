# 研究一下`老生常谈`的闭包

```
闭包涉及作用域、作用域链、执行上下文、内存管理等众多知识点
```

## 作用域

作用域可以被理解为某种规则下的限定范围，该规则用于指导开发者如何在特定的场景下查找变量。

- 函数作用域
- 全局作用域

## 作用域链

实际上就是变量作用域查找的扩散过程，从而形成的一条环节相扣的链条。

## 块级作用域与暂时性死区

### 块级作用域

指将作用域范围限制在代码块中。

### 暂时性死区

一般指由花括号到 let、const 声明的变量之间的无法访问声明变量的区域。

## 执行上下文和调用栈

### 执行上下文

当前代码的执行环境/作用域。

- 预编译阶段

1.  在预编译阶段进行变量声明
2.  在预编译阶段对变量声明进行提升，但是值为 undefined
3.  在预编译阶段对所有非表达式的函数声明进行提升。

```
            变量对象
    执行上文：作用域链
            this
```

- 执行阶段

### 调用栈

函数或代码的调用过程/次序的展现
遵循先进后出/后进先出的规则

## 闭包

函数嵌套函数时，内层函数引用外层函数作用域下的变量，并且内层函数在全局环境下可以访问，进而就会形成闭包。
